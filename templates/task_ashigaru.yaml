# 足軽タスクテンプレート
# 使用方法: このファイルをコピーして queue/tasks/ashigaru{N}.yaml に配置
#
# 必須フィールド: task_id, description, status, timestamp
# オプション: priority, project, target_path, shinobi_allowed, escalation_threshold

task:
  # ─────────────────────────────────────────────────────────────
  # 基本情報（必須）
  # ─────────────────────────────────────────────────────────────
  task_id: subtask_XXX          # タスクID（例: subtask_012_1）
  parent_cmd: cmd_XXX           # 親コマンドID（例: cmd_012）
  priority: normal              # critical | high | normal | low

  # ─────────────────────────────────────────────────────────────
  # タスク内容（必須）
  # ─────────────────────────────────────────────────────────────
  description: |
    ## 概要
    【ここに要約を書く - 1〜2文で】

    ## 実装内容
    1. ステップ1の説明
    2. ステップ2の説明
    3. ステップ3の説明

    ## 完了条件（チェックリスト）
    - [ ] 条件1
    - [ ] 条件2
    - [ ] テストが通ること
    - [ ] ruff check / ruff format が通ること

    ## 備考
    【特記事項があれば記載】

  # ─────────────────────────────────────────────────────────────
  # プロジェクト情報（オプション）
  # ─────────────────────────────────────────────────────────────
  project: null                 # プロジェクト名（あれば context/{project}.md を読む）
  target_path:                  # 対象ファイルパス（複数可）
    - /path/to/file1
    - /path/to/file2

  # ─────────────────────────────────────────────────────────────
  # 外部エージェント設定（オプション）
  # ─────────────────────────────────────────────────────────────
  shinobi_allowed: false        # 忍び召喚許可（足軽は通常 false）
  shinobi_budget: 0             # 忍び呼び出し予算（回数）

  # ─────────────────────────────────────────────────────────────
  # エスカレーション設定（オプション）
  # ─────────────────────────────────────────────────────────────
  escalation_threshold: 30      # 調査時間（分）超過で家老に報告

  # ─────────────────────────────────────────────────────────────
  # ステータス（必須）
  # ─────────────────────────────────────────────────────────────
  status: assigned              # idle | assigned | in_progress | done | blocked
  timestamp: "2026-02-05T00:00:00"
