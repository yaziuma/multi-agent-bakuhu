# ══════════════════════════════════════════════════
# Whitelist-based .gitignore for public repository
# Default: deny all → allow only OSS-publishable files
# ══════════════════════════════════════════════════

# Step 1: Deny everything
*
# Security deny patterns (CI requires these explicitly)
.env*
secrets*
credentials*
*.key
id_rsa*

# Step 2: Allow directory traversal (contents must be individually allowed)
!*/

# ══════════════════════════════════════════════════
# Step 3: Allow OSS-publishable files
# ══════════════════════════════════════════════════

# Root-level metadata files
!.editorconfig
!.gitattributes
!.gitignore
!.gitleaks.toml
!AGENTS.md
!CLAUDE.md
!CONTRIBUTING.md
!LICENSE
!Makefile
!README.md
!README_ja.md
!SECURITY.md

# Root-level scripts
!first_setup.sh
!install.bat
!seed.spec.ts
!setup.sh
!shutsujin_departure.sh

# .claude/ (settings and commands)
!.claude/
!.claude/**

# .gemini/ (Gemini Flash config)
!.gemini/
!.gemini/**

# .github/ (CI/CD workflows)
!.github/
!.github/**

# agents/ (Agent Team definitions)
!agents/
!agents/**

# config/ (sample configurations, no secrets)
!config/
!config/**
# Secrets/external project files - never track
config/projects.yaml
config/settings.yaml
config/dashboard_template_*.md
config/pane_role_map.yaml
config/pane_role_map.yaml.lock
config/pane_role_map.yaml.sha256
config/session.epoch

# context/ - contains external project confidential info - deny entirely
context/

# docs/ (philosophy and design docs)
!docs/
!docs/**

# instructions/ (agent instruction files)
!instructions/
!instructions/**

# lib/ (shell libraries)
!lib/
!lib/**

# saytask/ (sample templates only)
!saytask/
!saytask/**

# scripts/ (infrastructure scripts)
!scripts/
!scripts/**

# skills/ (agent skills)
!skills/
!skills/**

# templates/ (task and report templates)
!templates/
!templates/**

# tests/ (bats test suites)
!tests/
!tests/**

