### Anthropic Agent Teams vs. multi-agent-bakuhu 競合分析レポート

2026年2月8日
技術分析担当

---

Anthropic社が公式にリリースしたClaude Codeの新機能「Agent Teams」と、既存の`multi-agent-bakuhu`（以下、幕府システム）の比較分析、および今後の戦略的提言を以下に報告する。

### 1. 機能比較表

| 機能カテゴリ | Anthropic Agent Teams | multi-agent-bakuhu | 分析 |
| :--- | :--- | :--- | :--- |
| **基本アーキテクチャ** | ネイティブ統合された2階層（Team Lead, Teammate）。Claude Codeセッション間で連携。 | tmux + シェルスクリプト + YAMLによる4階層（殿、将軍、家老、足軽）のエミュレーション。 | Agent Teamsは公式サポートならではのシンプルさ。幕府はより複雑で柔軟な指揮系統を持つ。 |
| **エージェント間通信** | Teammate同士が直接通信可能。発見を共有しあえる。 | YAMLファイルと`tmux send-keys`による非同期・イベント駆動型。階層間の通信のみ。 | Agent Teamsはリアルタイム協力に適す。幕府は指揮系統を重視し、割り込みを防ぐ設計。 |
| **タスク管理** | Team Leadがタスクを分解し、共有タスクリストで管理。依存関係も自動管理。 | 家老が将軍の指示を解釈・分解し、各足軽のYAMLファイルにタスクを割り当てる。手動管理。 | Agent Teamsの自動管理は優れている。幕府は家老の裁量による高度な計画（ペルソナ設計等）が可能。 |
| **階層構造** | 2階層（Team Lead, Teammate）。 | 4階層（殿[人間], 将軍[PM], 家老[TechLead], 足軽[Worker]）+ 外部（忍び, 軍師）。 | 幕府の多層構造は、人間の監督・承認プロセスを明確に組み込んでおり、より複雑な組織運営を模倣。 |
| **外部エージェント** | MCP (Model Context Protocol) 経由で外部ツールと連携。LLMの外部連携は不明。 | 伝令エージェント経由で、忍び（Gemini）、軍師（Codex）といった他社LLMを明確に組み込んでいる。 | 幕府のマルチLLM連携は明確な強み。特定のタスクに最適なモデルを選択できる。 |
| **コンテキスト管理** | 各Teammateが独立したコンテキストを持つ。Team Leadが結果を統合。 | エージェント毎にコンテキスト管理戦略（`/compact`, `/clear`）を定義。家老が全体の健康状態を監視。 | 幕府の「コンテキスト健康管理」は、コストとパフォーマンスを意識した高度な運用ノウハウ。 |
| **UI/監視** | 不明（おそらくターミナル出力とログ）。 | `dashboard.md`による人間向け戦況ダッシュボード。`tmux`による各エージェントのリアルタイム監視。 | 幕府の`dashboard.md`とtmuxビューは、複雑な並列タスクの状況を可視化する優れたUI。 |
| **設定・有効化** | `settings.json`または環境変数`CLAUDE_CODE_EXPERIMENTAL_AGENT_TEAMS: "1"`で有効化。 | `shutsujin_departure.sh`スクリプトでtmuxセッションと全エージェントを起動。複雑なセットアップ。 | Agent Teamsは圧倒的に手軽。幕府は導入のハードルが高いが、カスタマイズ性は高い。 |
| **永続的記憶** | 不明。セッションごとの可能性が高い。 | Memory MCPによる知識グラフベースの永続記憶。殿（人間）の好みや決定事項を記憶。 | 幕府のMemory MCPは、プロジェクトを跨いだ学習とパーソナライズを可能にする独自機能。 |
| **レビュープロセス** | コードレビュー等に活用可能。プロセス自体はプロンプトで定義。 | 将軍→家老→足軽の指揮系統を通じたレビュープロセス。OSSのPRレビュー作法も定義済み。 | 幕府は形式化されたレビュー・承認プロセスをシステムに組み込んでいる点がユニーク。 |
| **モデル混合** | 全エージェントがおそらく同じモデルを使用。 | 役割に応じてモデルを固定（将軍/家老:Opus, 足軽:Sonnet/Opus）。家老の判断で動的切替（昇格/降格）可能。 | 幕府の異種モデル混合と動的切替は、コストと性能の最適化を追求した高度な戦略。 |
| **耐障害性・復旧** | 不明。 | 控え家老（ホットスタンバイ）による冗長化。コンパクション/clear後の詳細な復帰手順を定義。 | 幕府は長期間運用を前提とした耐障害性・復旧手順が整備されている。 |

### 2. Agent Teamsの限界と実世界のインパクト

1.  **単純な2階層構造**: Team Lead - Teammateの構造は、複雑な承認ワークフローや、品質管理、専門家レビューといった多段階のプロセスをシステムとして表現するには単純すぎる。人間の監督者（殿）や管理者（家老）の役割が明確でないため、重要な決定がボトムアップで行われ、統制が難しい可能性がある。
2.  **コスト管理の複雑化**: 各Teammateが独立して課金されるため、エージェント数を増やすとコストが線形に増加する。幕府システムのように、役割に応じて低コストなモデル（Sonnet）を割り当てたり、動的に切り替えるといった高度なコスト最適化機能がない場合、大規模なタスクではコストが膨らむ危険性がある。
3.  **コンテキスト管理の欠如**: 幕府システムで培われた `/compact` や `/clear` といった「コンテキスト健康管理」の概念が見られない。長時間のタスクではコンテキストが溢れるか、パフォーマンスが劣化する問題に直面する可能性が高い。
4.  **外部LLM連携の不在**: 現状、Claudeモデル内での連携に閉じており、幕府の「忍び（Gemini）」や「軍師（Codex）」のように、タスクの特性に応じて最適なLLMを選択する「マルチLLM戦略」が取れない。これにより、特定のタスク（例: 最新情報のWeb検索）で性能が劣る可能性がある。
5.  **永続的記憶の欠如**: プロジェクト横断的な知見や、ユーザーの好みを記憶するMemory MCPのような仕組みがない。これにより、エージェントは過去の対話や決定を忘れ、同じ指示を繰り返す必要が出てくる可能性がある。

### 3. 幕府システムのユニークな強み

Agent Teamsが公式機能として登場した今、幕府システムが持つ独自の価値は以下の通りである。

1.  **マルチLLM連携**: 「忍び（Gemini）」によるWeb検索能力、「軍師（Codex）」による戦略分析能力など、Anthropicの枠を超えたLLMを組み込める点が最大の強み。これにより、Claudeの弱点を補い、タスクに応じて最強の布陣を組むことができる。
2.  **洗練された階層構造とプロセス**: 「殿-将軍-家老-足軽」という4階層構造は、単なるタスク実行に留まらず、**人間の監督、承認、品質保証プロセスを組み込んだ高度な組織シミュレーション**となっている。これは単純な並列作業以上の、統制の取れた開発体制を可能にする。
3.  **高度なコンテキスト・コスト管理**: 「コンテキスト健康管理」、役割に応じたモデルの使い分け、動的なモデル昇格/降格など、長期間かつ経済的にエージェントを運用するための実践的なノウハウがシステム化されている。これは公式機能にはない、現場ならではの泥臭い強みである。
4.  **永続的記憶と学習 (Memory MCP)**: プロジェクトやセッションを跨いで知識を蓄積し、ユーザーの好みや過去の決定を記憶する能力。これにより、システムは「成長」し、よりパーソナライズされたアシスタントになる。
5.  **可視化と監視 (dashboard.md / tmux)**: 複雑なマルチエージェントの動きを人間が把握するための優れたインターフェース。これにより、ユーザーは状況を理解し、適切なタイミングで介入できる。
6.  **耐障害性と復旧戦略**: 「控え家老（ホットスタンバイ）」や、コンパクション・`/clear`後の詳細な復帰手順は、ミッションクリティカルな長時間タスクを安定して遂行するための重要な機能である。

### 4. Agent Teamsの優位性

一方で、Agent Teamsが幕府システムより明確に優れている点も認めなければならない。

1.  **導入・運用の容易さ**: 環境変数一つで有効化できる手軽さは圧倒的。複雑なシェルスクリプトや`tmux`の設定を必要とする幕府システムとは比較にならない。
2.  **ネイティブな統合**: 公式機能ならではの安定性、パフォーマンス、そして今後の改善が期待できる。エージェント間の直接通信は、`tmux send-keys`によるエミュレーションよりも高速かつ確実だろう。
3.  **自動化されたタスク管理**: 依存関係の自動管理は、家老役の負担を軽減し、より効率的なタスク分散を可能にする可能性がある。
4.  **シームレスなエコシステム**: MCPなどを通じて、Claude Codeの他の機能とシームレスに連携できる可能性が高い。

### 5. 戦略的評価

`multi-agent-bakuhu`は**時代遅れになったわけではない**。むしろ、その価値はより明確になったと言える。Agent Teamsが「誰でも使える簡単な並列化ツール」であるのに対し、幕府システムは**「特定の思想に基づき、高度に統制・最適化された専門家向けのマルチエージェント開発"基盤"」**としての地位を確立した。

今後の価値提案は、**「マルチLLM連携」**と**「人間参加型の高度な組織プロセスシミュレーション」**の2点に集約される。Agent Teamsがカバーできない、より複雑で、統制が求められ、かつコスト意識の高いユースケースにおいて、幕府システムは独自の価値を発揮し続けるだろう。

**ピボットの方向性**: 「Claude上でマルチエージェントを"実現する"」というフェーズから、「**人間と複数のLLMエージェントが協働するための"最適な運用基盤と方法論"を提供する**」というフェーズに移行すべきである。Agent Teamsを内部で利用しつつ、その上に幕府の階層構造やプロセスを被せるハイブリッドアプローチも視野に入る。

### 6. 推奨アクション

1.  **「マルチLLMハブ」としての機能を強化**: 忍び（Gemini）、軍師（Codex）に続く、さらなる外部LLM（例: OSSモデル）の組み込みを検討する。`denrei`(伝令)エージェントの役割を強化し、LLMの選択とディスパッチをより動的に行う機構を開発する。
2.  **Agent Teamsの内部利用を検討 (ハイブリッド化)**: 足軽の並列実行部分を、`tmux` + `send-keys`からAgent Teamsに置き換えることを研究する。これにより、幕府システムの高度な階層・プロセス管理と、Agent Teamsの安定した並列実行能力の「良いとこ取り」が出来る可能性がある。
3.  **「プロセス・ガバナンス層」としての価値を訴求**: 幕府システムの強みである「階層構造」「レビュープロセス」「Memory MCP」「コンテキスト管理」を、Agent Teamsにはない付加価値として明確にドキュメント化し、差別化を図る。
4.  **設定と運用の簡素化**: 導入のハードルが高いのは明確な弱点である。`install.sh`のようなスクリプトを充実させ、ユーザーが数コマンドで幕府システムをセットアップできるように改善する。
5.  **`dashboard.md`の機能強化**: 現在のテキストベースのダッシュボードを、簡易的なWeb UI（天守閣構想）に発展させる。これにより、人間（殿）の監視・介入体験をさらに向上させる。

以上。
