ご依頼の統合プラン、読み解き甲斐があって燃えました、しっかり日本語で具体化します。

**統合改善計画（要約）**
- 目的と非許容副作用の明示を必須化し、指示の詳細度ブレを解消する
- レビューを「テスト通過＝完了」から「機能確認で完了」へ移行する
- 連続タスクではコンテキスト維持を最優先し、/clear依存を減らす
- 変更方針の撤回理由を必ず残し、設計の往復運動を止める
- 緊急修正後にレビュー手順を更新するフィードバックループを追加する

**改善案 → cmd_061-067 失敗マッピング**
| 改善案 | 防げた失敗 | 防止できる理由 |
|---|---|---|
| 指示テンプレに `must_not_break` と `edge_cases` を必須化 | cmd_061, cmd_063 | ユーザー入力削除の禁止と「❯含む入力」のエッジケースを明示できた |
| レビューゲートに機能検証を追加 | cmd_061, cmd_063 | 受入確認で「入力が残るか」をチェックできた |
| /clearスキップ + 設計メモの継承 | cmd_065→066→067 | 設計意図の断絶を防ぎ、方針の往復を止められた |
| 変更方針の撤回理由・新方針の優先度を必須化 | cmd_066→067 | 途中での方針変更が「なぜ・何を捨てたか」で一貫性を保てた |
| 緊急修正後のレビュー手順更新ルール | cmd_063以降 | 再発防止のフィードバックループが即時に回った |
| ユーザー視点チェックの義務化 | cmd_061, cmd_065 | 表示上で入力が消えていないかを確認できた |

**優先度（P0/P1/P2）**
P0（即時実装）
1. レビュー3ゲート化（テスト→影響確認→手動機能検証）
2. 連続タスクでのコンテキスト維持（skip_clear + 設計メモ必須）
3. 指示テンプレに `must_not_break` と `edge_cases` を必須化
4. 緊急修正後の「プロセス更新」チェックを必須化

P1（設計が必要）
1. 変更方針の撤回ログの形式化（deprecated_approach / reason / new_approach）
2. 影響確認用の差分サンプル提出フォーマット
3. 入力行保持の自動チェック（簡易スナップショット比較）

P2（長期）
1. 指示品質スコアリング（曖昧すぎる/詳細すぎるのバランス指標）
2. 失敗事例のパターン化とテンプレ反映
3. レビューの監査ログ（rubber-stamp検知）

**監査との矛盾解消**
- 監査は「cmd_061は詳細不足」と指摘、提案は「cmd_061は詳細過多」と記載していたため矛盾が見える。
- 結論として両方が部分的に真で、実態は「実装詳細は提示されたが、目的と非許容副作用が欠落」だった。
- つまり「正規表現の形は詳しいが、守るべき境界条件が曖昧」だったため、詳細さが安全性に繋がらなかった。
- 解決策は「目的と禁止事項の明文化」を最上位に置き、実装詳細は許容範囲として書く運用に統一する。

**YAMLテンプレ例（Top 3推奨）**
1. 指示テンプレ（目的・非許容副作用・エッジケース）
```yaml
instruction_template:
  goal:
    summary: "tmux出力から不要行を除去し、ユーザー入力は保持する"
    must_not_break:
      - "ユーザー入力（`❯ テキスト`）は絶対に削除しない"
      - "通常出力の行順を変えない"
  edge_cases:
    - "入力に `❯` を含む"
    - "区切り線が1本のみ"
    - "Unicode混在"
  tolerances:
    - "区切り線（`─` 20文字以上）は除去してよい"
  completion_criteria:
    - "入力行保持のテストが追加されている"
```

2. レビューゲート（機能検証を必須化）
```yaml
review_gates:
  - gate: tests
    required: true
    pass_criteria:
      - "既存テスト全通過"
      - "新規テスト追加と成功ログ"
  - gate: impact_check
    required: true
    pass_criteria:
      - "除去対象/保持対象の差分サンプル提示"
  - gate: manual_verification
    required: true
    pass_criteria:
      - "実画面で入力が残ることを確認"
      - "色分けが期待通りであることを確認"
```

3. コンテキスト継承（/clear対策）
```yaml
context_continuity:
  skip_clear: true
  design_decisions:
    - "区切り線ペア方式は却下（理由: 過去入力が外に押し出される）"
    - "採用方式: 送信テキストキャッシュ"
  invariants:
    - "ユーザー入力の可視性を最優先"
  handoff_note_file: "context/decisions/cmd_06x.md"
```

**最も効果の高い単一の変更**
- **「連続タスクでのコンテキスト維持（skip_clear + 設計メモ必須）」**
- 根拠: 監査で「/clearによるコンテキスト喪失が設計の往復運動の根本原因」と明記されており、cmd_065→066→067の連鎖的再設計を止める効果が最大。

必要なら、次に `instructions/karo.md` と `templates/task_ashigaru.yaml` へ反映する具体案を作成できます。  
1. P0項目をテンプレへ反映  
2. レビューゲート運用文を追加  
3. /clear継承の標準文を追加
